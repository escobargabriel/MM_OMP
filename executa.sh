# !/bin/bash

make clean
make
rm -rf Resultados

echo "-----------------------------------------------------------------------------"
echo "----------------  Criando diretorios para salvar resultados  ----------------"
mkdir Resultados	
mkdir Resultados/10
mkdir Resultados/100
mkdir Resultados/128
mkdir Resultados/200
mkdir Resultados/256
mkdir Resultados/500
mkdir Resultados/512
mkdir Resultados/1000
mkdir Resultados/1024
mkdir Resultados/2048
mkdir Resultados/3000
echo "-----------------------------------------------------------------------------"
echo "----------------------------  Diretorios criados  ---------------------------"
echo "-----------------------------------------------------------------------------"
echo "-----------------------------------------------------------------------------"
echo "---------------------  Gerando arquivos para executar! ----------------------"
./gera_matriz2 10 10
echo "-----------------------------------------------------------------------------"
./gera_matriz2 100 100
echo "-----------------------------------------------------------------------------"
./gera_matriz2 128 128
echo "-----------------------------------------------------------------------------"
./gera_matriz2 200 200
echo "-----------------------------------------------------------------------------"
./gera_matriz2 256 256
echo "-----------------------------------------------------------------------------"
./gera_matriz2 500 500
echo "-----------------------------------------------------------------------------"
./gera_matriz2 512 512
echo "-----------------------------------------------------------------------------"
./gera_matriz2 1000 1000
echo "-----------------------------------------------------------------------------"
./gera_matriz2 1024 1024
echo "-----------------------------------------------------------------------------"
./gera_matriz2 2048 2048
echo "-----------------------------------------------------------------------------"
echo "-----------------------------------------------------------------------------"
./gera_matriz2 3000 3000
echo "-----------------------------------------------------------------------------"
echo "-----------------------------------------------------------------------------"
echo "---------------------------  Arquivos gerados  ------------------------------"
echo "-----------------------------------------------------------------------------"
echo "-----------------------------------------------------------------------------"
#----------------------------------------------------------------------------#
#-----------------FIM DA GERACAO DE ARQUIVOS---------------------------------#
echo "-----------------------------------------------------------------------------"
echo "----------------------  Iniciando execuções aguarde! ------------------------"
echo "-----------------------------------------------------------------------------"
echo "-----------------------------------------------------------------------------"
#---------------------INICIO DAS EXECUCOES-----------------------------------#
#-----------------------EXECUCAO 10x10-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "--------------------  Executando multiplicações 10x10  ----------------------"
./main_matriz 10x10-mat.map 10x10-mat.map 2 >> Resultados/10/10-2threads.txt
./main_matriz 10x10-mat.map 10x10-mat.map 4 >> Resultados/10/10-4threads.txt
./main_matriz 10x10-mat.map 10x10-mat.map 8 >> Resultados/10/10-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 100x100-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "-------------------  Executando multiplicações 100x100  ---------------------"
./main_matriz 100x100-mat.map 100x100-mat.map 2 >> Resultados/100/100-2threads.txt
./main_matriz 100x100-mat.map 100x100-mat.map 4 >> Resultados/100/100-4threads.txt
./main_matriz 100x100-mat.map 100x100-mat.map 8 >> Resultados/100/100-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 128x128-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "-------------------  Executando multiplicações 128x128  ---------------------"
./main_matriz 128x128-mat.map 128x128-mat.map 2 >> Resultados/128/128-2threads.txt
./main_matriz 128x128-mat.map 128x128-mat.map 4 >> Resultados/128/128-4threads.txt
./main_matriz 128x128-mat.map 128x128-mat.map 8 >> Resultados/128/128-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 200x200-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "------------------   Executando multiplicações 200x200  ---------------------"
./main_matriz 200x200-mat.map 200x200-mat.map 2 >> Resultados/200/200-2threads.txt
./main_matriz 200x200-mat.map 200x200-mat.map 4 >> Resultados/200/200-4threads.txt
./main_matriz 200x200-mat.map 200x200-mat.map 8 >> Resultados/200/200-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 256x256-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "-------------------  Executando multiplicações 256x256  ---------------------"
./main_matriz 256x256-mat.map 256x256-mat.map 2 >> Resultados/256/256-2threads.txt
./main_matriz 256x256-mat.map 256x256-mat.map 4 >> Resultados/256/256-4threads.txt
./main_matriz 256x256-mat.map 256x256-mat.map 8 >> Resultados/256/256-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 500x500-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "-------------------  Executando multiplicações 500x500  ---------------------"
./main_matriz 500x500-mat.map 500x500-mat.map 2 >> Resultados/500/500-2threads.txt
./main_matriz 500x500-mat.map 500x500-mat.map 4 >> Resultados/500/500-4threads.txt
./main_matriz 500x500-mat.map 500x500-mat.map 8 >> Resultados/500/500-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 512x512-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "-------------------  Executando multiplicações 512x512  ---------------------"
./main_matriz 512x512-mat.map 512x512-mat.map 2 >> Resultados/512/512-2threads.txt
./main_matriz 512x512-mat.map 512x512-mat.map 4 >> Resultados/512/512-4threads.txt
./main_matriz 512x512-mat.map 512x512-mat.map 8 >> Resultados/512//512-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 1000x1000-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "------------------  Executando multiplicações 1000x1000  --------------------"
./main_matriz 1000x1000-mat.map 1000x1000-mat.map 2 >> Resultados/1000/1000-2threads.txt
./main_matriz 1000x1000-mat.map 1000x1000-mat.map 4 >> Resultados/1000/1000-4threads.txt
./main_matriz 1000x1000-mat.map 1000x1000-mat.map 8 >> Resultados/1000/1000-8threads.txt
#-----------------------------FIM--------------------------------------------#
#-----------------------EXECUCAO 1024x1024-------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "------------------  Executando multiplicações 1024x1024  --------------------"
./main_matriz 1024x1024-mat.map 1024x1024-mat.map 2 >> Resultados/1024/1024-2threads.txt
./main_matriz 1024x1024-mat.map 1024x1024-mat.map 4 >> Resultados/1024/1024-4threads.txt
./main_matriz 1024x1024-mat.map 1024x1024-mat.map 8 >> Resultados/1024/1024-8threads.txt
echo "-----------------------------------------------------------------------------"
echo "------------------  Executando multiplicações 2048x2048  --------------------"
./main_matriz 2048x2048-mat.map 2048x2048-mat.map 2 >> Resultados/2048/2048-2threads.txt
./main_matriz 2048x2048-mat.map 2048x2048-mat.map 4 >> Resultados/2048/2048-4threads.txt
./main_matriz 2048x2048-mat.map 2048x2048-mat.map 8 >> Resultados/2048/2048-8threads.txt
echo "-----------------------------------------------------------------------------"
echo "------------------  Executando multiplicações 3000x3000  --------------------"
./main_matriz 3000x3000-mat.map 3000x3000-mat.map 2 >> Resultados/3000/3000-2threads.txt
./main_matriz 3000x3000-mat.map 3000x3000-mat.map 4 >> Resultados/3000/3000-4threads.txt
./main_matriz 3000x3000-mat.map 3000x3000-mat.map 8 >> Resultados/3000/3000-8threads.txt
echo "-----------------------------------------------------------------------------"
#-----------------------------FIM--------------------------------------------#
echo "-----------------------------------------------------------------------------"
echo "----------------------------  Fim das execuções  ----------------------------"
echo "-----------------------------------------------------------------------------"
echo "---------  Resultados encontram-se nos arquivos NxN-NTthreads.txt -----------"
echo "-----  Arquivos NxN-NTthreads.txt encontram-se nas pastas Resultados/N  -----"
echo "-----------------------------------------------------------------------------"